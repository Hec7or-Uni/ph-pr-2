


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             codigo, CODE
    2 00000000                 EXPORT           conecta4_buscar_alineamiento_ar
m
    3 00000000                 PRESERVE8        {TRUE}
    4 00000000 00000007 
                       NUM_COLUMNAS
                               EQU              7
    5 00000000 00000006 
                       NUM_FILAS
                               EQU              6
    6 00000000                 ENTRY
    7 00000000         
    8 00000000         ;r0 <- cuadricula
    9 00000000         ;r1 <- fila
   10 00000000         ;r2 <- columna
   11 00000000         ;r3 <- color
   12 00000000         ;mem[sp] <- delta_fila
   13 00000000         ;mem[sp+4] <- delta_col
   14 00000000         conecta4_buscar_alineamiento_arm
   15 00000000 E92D4030        STMDB            sp!, {r4, r5, lr} ; Guarda valo
                                                            r de los registros 
                                                            para utilizarlos
   16 00000004         
   17 00000004         ; return si fila no valida
   18 00000004 E3510001        cmp              r1, #1
   19 00000008 3A000016        blo              return0     ; salta si: fila < 
                                                            1
   20 0000000C E3510006        cmp              r1, #NUM_FILAS
   21 00000010 8A000014        bhi              return0     ; salta si: fila > 
                                                            NUM_FILAS
   22 00000014         
   23 00000014         ; return si columna no valida
   24 00000014 E3520001        cmp              r2, #1
   25 00000018 3A000012        blo              return0     ; salta si: columna
                                                             < 1
   26 0000001C E3520007        cmp              r2, #NUM_COLUMNAS
   27 00000020 8A000010        bhi              return0     ; salta si: columna
                                                             > NUM_COLUMNAS
   28 00000024         
   29 00000024         ; r4 := celda
   30 00000024 E0804002        add              r4, r0, r2  ; r4 = r0+r2 = &cua
                                                            dricula[0][columna]
                                                            
   31 00000028 E7D44181        ldrb             r4, [r4, r1, LSL#3] ; r4 = mem[
                                                            r4+r1*8] = cuadricu
                                                            la[fila][columna]
   32 0000002C         ; return si celda vacia
   33 0000002C E3140004        tst              r4, #0x4
   34 00000030 0A00000C        beq              return0     ; salta si: celda v
                                                            acia
   35 00000034         
   36 00000034         ; return si celda != color
   37 00000034 E2045003        and              r5, r4, #0x3
   38 00000038 E1550003        cmp              r5, r3
   39 0000003C 1A000009        bne              return0     ; salta si: celda !
                                                            = color
   40 00000040         
   41 00000040         ; avanzar indices
   42 00000040 E59D400C        ldr              r4, [sp, #12] ; r4 = delta_fila



ARM Macro Assembler    Page 2 


                                                            
   43 00000044 E59D5010        ldr              r5, [sp, #16] ; r4 = delta_colu
                                                            mna
   44 00000048 E0811004        add              r1, r1, r4  ; fila    = fila   
                                                             + delta_fila
   45 0000004C E0822005        add              r2, r2, r5  ; columna = columna
                                                             + delta_columna
   46 00000050         
   47 00000050         ; carga de parametros
   48 00000050 E92D0030        STMDB            sp!, {r4, r5} ; delta_columnas 
                                                            := r5, delta_filas 
                                                            := r4
   49 00000054 EBFFFFFE        bl               conecta4_buscar_alineamiento_ar
m
   50 00000058 E28DD008        add              sp, sp, #8  ; libera parametros
                                                            
   51 0000005C E2800001        add              r0, r0, #1  ; r0 = resultado de
                                                             funcion + 1
   52 00000060         
   53 00000060 E8BD4030        LDMIA            sp!, {r4, r5, lr} ; Recupera el
                                                             valor de los regis
                                                            tros
   54 00000064 E12FFF1E        bx               lr          ; return r0
   55 00000068         
   56 00000068         return0
   57 00000068 E3A00000        mov              r0, #0      ; r0 = 0
   58 0000006C E8BD4030        LDMIA            sp!, {r4, r5, lr} ; Recupera el
                                                             valor de los regis
                                                            tros
   59 00000070 E12FFF1E        bx               lr          ; return 0
   60 00000074                 END
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\o
bjects\conecta4_buscar_alineamiento_arm.d -o.\objects\conecta4_buscar_alineamie
nto_arm.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Keil_v5
\ARM\INC\Philips --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SET
A 526" --list=.\listings\conecta4_buscar_alineamiento_arm.lst conecta4_buscar_a
lineamiento_arm.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

codigo 00000000

Symbol: codigo
   Definitions
      At line 1 in file conecta4_buscar_alineamiento_arm.s
   Uses
      None
Comment: codigo unused
conecta4_buscar_alineamiento_arm 00000000

Symbol: conecta4_buscar_alineamiento_arm
   Definitions
      At line 14 in file conecta4_buscar_alineamiento_arm.s
   Uses
      At line 2 in file conecta4_buscar_alineamiento_arm.s
      At line 49 in file conecta4_buscar_alineamiento_arm.s

return0 00000068

Symbol: return0
   Definitions
      At line 56 in file conecta4_buscar_alineamiento_arm.s
   Uses
      At line 19 in file conecta4_buscar_alineamiento_arm.s
      At line 21 in file conecta4_buscar_alineamiento_arm.s
      At line 25 in file conecta4_buscar_alineamiento_arm.s
      At line 27 in file conecta4_buscar_alineamiento_arm.s
      At line 34 in file conecta4_buscar_alineamiento_arm.s
      At line 39 in file conecta4_buscar_alineamiento_arm.s

3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

NUM_COLUMNAS 00000007

Symbol: NUM_COLUMNAS
   Definitions
      At line 4 in file conecta4_buscar_alineamiento_arm.s
   Uses
      At line 26 in file conecta4_buscar_alineamiento_arm.s
Comment: NUM_COLUMNAS used once
NUM_FILAS 00000006

Symbol: NUM_FILAS
   Definitions
      At line 5 in file conecta4_buscar_alineamiento_arm.s
   Uses
      At line 20 in file conecta4_buscar_alineamiento_arm.s
Comment: NUM_FILAS used once
2 symbols
337 symbols in table
